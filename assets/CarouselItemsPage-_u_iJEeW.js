import{r as s,j as e}from"./vendor-VhFNdCEW.js";import{l as d}from"./index-Dq3omjz3.js";import{c as p}from"./RepositoryFactory-CZV-Y2mo.js";import"./firebase-BqgI0o68.js";function y({title:r,collectionName:o,repository:c,fields:m}){const[l,h]=s.useState([]),[x,g]=s.useState(!0),[n,u]=s.useState(null);return s.useEffect(()=>{let t=!0;async function i(){try{d.debug(`[SimpleCollectionPage] Fetching ${o}...`),g(!0),u(null);const a=await c.getAll();d.debug(`[SimpleCollectionPage] Got ${a.length} items`),t&&h(a)}catch(a){d.error("[SimpleCollectionPage] Error:",a),t&&u(a instanceof Error?a.message:"Failed to load data")}finally{t&&g(!1)}}return i(),()=>{t=!1}},[c,o]),d.debug(`[SimpleCollectionPage] Render - loading: ${x}, error: ${n}, data length: ${l.length}`),x?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Loading ",r.toLowerCase(),"..."]})]}):n?e.jsx("div",{className:"p-8 text-center",children:e.jsxs("div",{className:"text-red-500 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Error Loading Data"}),e.jsx("p",{className:"text-sm",children:n})]})}):l.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:e.jsxs("p",{className:"mb-2",children:["No ",r.toLowerCase()," found"]})}):e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:r}),e.jsxs("div",{className:"text-sm text-gray-600",children:[l.length," items loaded"]})]}),e.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"ID"}),m.map(t=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:t},t))]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:l.map((t,i)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 font-mono",children:t.id||i}),m.map(a=>e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-gray-100",children:String(t[a]||"-")},a))]},t.id||i))})]})})]})}function v(){const r=s.useMemo(()=>p("carousel_items"),[]);return e.jsx(y,{title:"Carousel Items",collectionName:"carousel_items",repository:r,fields:["type","imageUrl","thumbnailUrl","link"]})}export{v as default};
