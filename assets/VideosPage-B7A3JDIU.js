import{r as e,j as u}from"./vendor-VhFNdCEW.js";import{C as y}from"./CollectionPage-BMWte77z.js";import{c as f}from"./RepositoryFactory-CZV-Y2mo.js";import{e as h,q as v,m as x}from"./firebase-BqgI0o68.js";import{d as b,l as C}from"./index-Dq3omjz3.js";import"./useCollection-BRHjIwN1.js";import"./useCollectionMutations-C9QFriA7.js";function E(){const[s,t]=e.useState([]),[o,r]=e.useState(!0),[n,l]=e.useState(null);return e.useEffect(()=>{(async()=>{try{r(!0);const a=h(b,"videos"),d=v(a),m=await x(d),c=new Set;m.docs.forEach(g=>{const i=g.data();i.category&&typeof i.category=="string"&&c.add(i.category)});const p=Array.from(c).sort();t(p),l(null)}catch(a){C.error("Error fetching video categories:",a),l(a)}finally{r(!1)}})()},[]),{categories:s,loading:o,error:n}}function F(){const s=e.useMemo(()=>f("videos"),[]),{categories:t,loading:o}=E(),r=e.useMemo(()=>[{name:"title",label:"Video Title",type:"text",required:!0,placeholder:"Enter video title",validation:{maxLength:200}},{name:"category",label:"Category",type:"searchable-select",required:!0,placeholder:o?"Loading categories...":"Select or type category",options:t,allowCustom:!0,validation:{maxLength:100}},{name:"thumbnailUrl",label:"Thumbnail URL (Optional)",type:"url",placeholder:"https://example.com/video-thumbnail.jpg"},{name:"videoUrl",label:"Video URL (Optional)",type:"url",placeholder:"https://example.com/video.mp4"}],[t,o]);return u.jsx(y,{collectionType:"videos",title:"Videos",formFields:r,repository:s})}export{F as default};
